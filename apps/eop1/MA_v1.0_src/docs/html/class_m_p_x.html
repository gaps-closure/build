<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GAPS Mission Application: MPX Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GAPS Mission Application
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_m_p_x-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MPX Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>– Class responsible for PNT updates, asset location calculation, current mission status, detection list collection from sensors manager (<a class="el" href="class_i_s_r_m.html" title="– Class responsible for managing, collobrating, and directing on-board sensor packages">ISRM</a>), generation of <a class="el" href="class_t_o_i.html" title="– Class responsible for structure of a Target of Interest">TOI</a> list  
 <a href="class_m_p_x.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_m_p_x_8h_source.html">MPX.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a01b7eba6997c3dc44f49795563e5baf6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_p_x.html#a01b7eba6997c3dc44f49795563e5baf6">MPX</a> (MissionPlan *plan)</td></tr>
<tr class="memdesc:a01b7eba6997c3dc44f49795563e5baf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="class_m_p_x.html" title="– Class responsible for PNT updates, asset location calculation, current mission status,...">MPX</a> object based on a mission plan, listen to mission plan changes and <a class="el" href="class_i_s_r_m.html" title="– Class responsible for managing, collobrating, and directing on-board sensor packages">ISRM</a> detections.  <a href="class_m_p_x.html#a01b7eba6997c3dc44f49795563e5baf6">More...</a><br /></td></tr>
<tr class="separator:a01b7eba6997c3dc44f49795563e5baf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f5c5f80407fd67f426122289d7013f9"><td class="memItemLeft" align="right" valign="top"><a id="a7f5c5f80407fd67f426122289d7013f9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_p_x.html#a7f5c5f80407fd67f426122289d7013f9">MPX</a> ()</td></tr>
<tr class="memdesc:a7f5c5f80407fd67f426122289d7013f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="class_m_p_x.html" title="– Class responsible for PNT updates, asset location calculation, current mission status,...">MPX</a> object and listen to mission plan changes and <a class="el" href="class_i_s_r_m.html" title="– Class responsible for managing, collobrating, and directing on-board sensor packages">ISRM</a> detections. <br /></td></tr>
<tr class="separator:a7f5c5f80407fd67f426122289d7013f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90751c61ced16741de96be0cf064eaa9"><td class="memItemLeft" align="right" valign="top"><a id="a90751c61ced16741de96be0cf064eaa9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_p_x.html#a90751c61ced16741de96be0cf064eaa9">~MPX</a> ()</td></tr>
<tr class="memdesc:a90751c61ced16741de96be0cf064eaa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the <a class="el" href="class_m_p_x.html" title="– Class responsible for PNT updates, asset location calculation, current mission status,...">MPX</a> object and clear all storage for mission plans and detections. <br /></td></tr>
<tr class="separator:a90751c61ced16741de96be0cf064eaa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24627db0a36318469a9ea4a10300de21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_p_x.html#a24627db0a36318469a9ea4a10300de21">run</a> ()</td></tr>
<tr class="memdesc:a24627db0a36318469a9ea4a10300de21"><td class="mdescLeft">&#160;</td><td class="mdescRight">create two threads: one to check plan status and calculate PNT location and the other to print useful debug information to the console  <a href="class_m_p_x.html#a24627db0a36318469a9ea4a10300de21">More...</a><br /></td></tr>
<tr class="separator:a24627db0a36318469a9ea4a10300de21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5270d8d6031bae6518147809c1702edc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_p_x.html#a5270d8d6031bae6518147809c1702edc">updateMissionPlan</a> (MissionPlan *plan)</td></tr>
<tr class="memdesc:a5270d8d6031bae6518147809c1702edc"><td class="mdescLeft">&#160;</td><td class="mdescRight">updatet the plan manager with new plan and set it as current plan  <a href="class_m_p_x.html#a5270d8d6031bae6518147809c1702edc">More...</a><br /></td></tr>
<tr class="separator:a5270d8d6031bae6518147809c1702edc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6a17c19cfb935b7c5703e4769c68dde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_p_x.html#ac6a17c19cfb935b7c5703e4769c68dde">setChanged</a> (const bool &amp;c)</td></tr>
<tr class="memdesc:ac6a17c19cfb935b7c5703e4769c68dde"><td class="mdescLeft">&#160;</td><td class="mdescRight">indicate a change of plan to the system  <a href="class_m_p_x.html#ac6a17c19cfb935b7c5703e4769c68dde">More...</a><br /></td></tr>
<tr class="separator:ac6a17c19cfb935b7c5703e4769c68dde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b04ca21acd856b4a4182c60e482b454"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_p_x.html#a8b04ca21acd856b4a4182c60e482b454">setSpeed</a> (double speed)</td></tr>
<tr class="memdesc:a8b04ca21acd856b4a4182c60e482b454"><td class="mdescLeft">&#160;</td><td class="mdescRight">setter method for speed  <a href="class_m_p_x.html#a8b04ca21acd856b4a4182c60e482b454">More...</a><br /></td></tr>
<tr class="separator:a8b04ca21acd856b4a4182c60e482b454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae91725b5c3dda8003e801246d0583759"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_p_x.html#ae91725b5c3dda8003e801246d0583759">setLocation</a> (double lat, double lon, double alt)</td></tr>
<tr class="memdesc:ae91725b5c3dda8003e801246d0583759"><td class="mdescLeft">&#160;</td><td class="mdescRight">setter method for location  <a href="class_m_p_x.html#ae91725b5c3dda8003e801246d0583759">More...</a><br /></td></tr>
<tr class="separator:ae91725b5c3dda8003e801246d0583759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f1a5f37928536cfee7566e8f80613ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_p_x.html#a7f1a5f37928536cfee7566e8f80613ae">printInformation</a> ()</td></tr>
<tr class="memdesc:a7f1a5f37928536cfee7566e8f80613ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">print useful information about UAV location, phase, distance to next waypoint, elapsed time bearing, plan id, speed, and location of next waypoint  <a href="class_m_p_x.html#a7f1a5f37928536cfee7566e8f80613ae">More...</a><br /></td></tr>
<tr class="separator:a7f1a5f37928536cfee7566e8f80613ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a545de39123d83489b63958d1e8c4a8c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_p_x.html#a545de39123d83489b63958d1e8c4a8c7">checkPlanStatus</a> (<a class="el" href="class_store.html">Store</a>&lt; MissionPlan * &gt; &amp;planManager)</td></tr>
<tr class="separator:a545de39123d83489b63958d1e8c4a8c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>– Class responsible for PNT updates, asset location calculation, current mission status, detection list collection from sensors manager (<a class="el" href="class_i_s_r_m.html" title="– Class responsible for managing, collobrating, and directing on-board sensor packages">ISRM</a>), generation of <a class="el" href="class_t_o_i.html" title="– Class responsible for structure of a Target of Interest">TOI</a> list </p>
<dl class="section author"><dt>Author</dt><dd>– Original Author - Mases Krikorian </dd>
<dd>
– Last Edited By - Frederick Santiago </dd></dl>
<dl class="section date"><dt>Date</dt><dd>– 9/15/2020</dd></dl>
<p>– This system starts execution when a mission plan is sent(from MPU)/loaded. Every 1 second, a new location is calculate based on the next waypoint and speed, and the location is sent to all other systems. Additionally, it checks for current status of the mission and the phase to determine what data to request from <a class="el" href="class_i_s_r_m.html" title="– Class responsible for managing, collobrating, and directing on-board sensor packages">ISRM</a>. Once an action waypoint is reached, a request gets sent to <a class="el" href="class_i_s_r_m.html" title="– Class responsible for managing, collobrating, and directing on-board sensor packages">ISRM</a> for detections. The results are then retrieved back from <a class="el" href="class_i_s_r_m.html" title="– Class responsible for managing, collobrating, and directing on-board sensor packages">ISRM</a>. This list will get filtered and the output will be a <a class="el" href="class_t_o_i.html" title="– Class responsible for structure of a Target of Interest">TOI</a> list.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>add favorable distance to <a class="el" href="class_t_o_i.html" title="– Class responsible for structure of a Target of Interest">TOI</a> list detection filtering </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a01b7eba6997c3dc44f49795563e5baf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b7eba6997c3dc44f49795563e5baf6">&#9670;&nbsp;</a></span>MPX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MPX::MPX </td>
          <td>(</td>
          <td class="paramtype">MissionPlan *&#160;</td>
          <td class="paramname"><em>plan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="class_m_p_x.html" title="– Class responsible for PNT updates, asset location calculation, current mission status,...">MPX</a> object based on a mission plan, listen to mission plan changes and <a class="el" href="class_i_s_r_m.html" title="– Class responsible for managing, collobrating, and directing on-board sensor packages">ISRM</a> detections. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">plan</td><td>- parsed from a mission plan JSON. Refer to <a class="el" href="class_utils.html#a07a2f39fff999d0db4a3756710f7117d" title="given a json input following a mission plan format, this function will extract the required values fo...">Utils::parsePlan</a> and MPU/mp.json </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a545de39123d83489b63958d1e8c4a8c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a545de39123d83489b63958d1e8c4a8c7">&#9670;&nbsp;</a></span>checkPlanStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPX::checkPlanStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_store.html">Store</a>&lt; MissionPlan * &gt; &amp;&#160;</td>
          <td class="paramname"><em>planManager</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>@brieft Every 1 second, a new location is calculated based on the next waypoint and speed, and the location is sent to all other systems as PNT. Additionally, it checks for current status of the mission and the phase to determine what data to request from <a class="el" href="class_i_s_r_m.html" title="– Class responsible for managing, collobrating, and directing on-board sensor packages">ISRM</a>. If at last waypoint, mission is considered complete</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">planManager</td><td>- storage of all mission plans sent from <a class="el" href="class_m_p_u.html" title="– Class responsible for loading plans, recieving plans, generating new plans based on actions,">MPU</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VOID </dd></dl>

</div>
</div>
<a id="a7f1a5f37928536cfee7566e8f80613ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f1a5f37928536cfee7566e8f80613ae">&#9670;&nbsp;</a></span>printInformation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPX::printInformation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>print useful information about UAV location, phase, distance to next waypoint, elapsed time bearing, plan id, speed, and location of next waypoint </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">VOID</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VOID </dd></dl>

</div>
</div>
<a id="a24627db0a36318469a9ea4a10300de21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24627db0a36318469a9ea4a10300de21">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPX::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>create two threads: one to check plan status and calculate PNT location and the other to print useful debug information to the console </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">VOID</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VOID </dd></dl>

</div>
</div>
<a id="ac6a17c19cfb935b7c5703e4769c68dde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6a17c19cfb935b7c5703e4769c68dde">&#9670;&nbsp;</a></span>setChanged()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPX::setChanged </td>
          <td>(</td>
          <td class="paramtype">const bool &amp;&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>indicate a change of plan to the system </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>- if true, plan changed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VOID </dd></dl>

</div>
</div>
<a id="ae91725b5c3dda8003e801246d0583759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae91725b5c3dda8003e801246d0583759">&#9670;&nbsp;</a></span>setLocation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPX::setLocation </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>alt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setter method for location </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lat</td><td>- contains the new latitude </td></tr>
    <tr><td class="paramname">lon</td><td>- contains the new longitude </td></tr>
    <tr><td class="paramname">alt</td><td>- contains the new altitude</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VOID </dd></dl>

</div>
</div>
<a id="a8b04ca21acd856b4a4182c60e482b454"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b04ca21acd856b4a4182c60e482b454">&#9670;&nbsp;</a></span>setSpeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPX::setSpeed </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setter method for speed </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">speed</td><td>- contains the new speed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VOID </dd></dl>

</div>
</div>
<a id="a5270d8d6031bae6518147809c1702edc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5270d8d6031bae6518147809c1702edc">&#9670;&nbsp;</a></span>updateMissionPlan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPX::updateMissionPlan </td>
          <td>(</td>
          <td class="paramtype">MissionPlan *&#160;</td>
          <td class="paramname"><em>plan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>updatet the plan manager with new plan and set it as current plan </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">plan</td><td>- contains information about vehicle plan (waypoints), and sensor plan (actions at waypoints)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VOID </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>MPX/<a class="el" href="_m_p_x_8h_source.html">MPX.h</a></li>
<li>MPX/MPX.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
