\hypertarget{class_m_p_x}{}\doxysection{M\+PX Class Reference}
\label{class_m_p_x}\index{MPX@{MPX}}


– Class responsible for P\+NT updates, asset location calculation, current mission status, detection list collection from sensors manager (\mbox{\hyperlink{class_i_s_r_m}{I\+S\+RM}}), generation of \mbox{\hyperlink{class_t_o_i}{T\+OI}} list  




{\ttfamily \#include $<$M\+P\+X.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_m_p_x_a01b7eba6997c3dc44f49795563e5baf6}{M\+PX}} (Mission\+Plan $\ast$plan)
\begin{DoxyCompactList}\small\item\em Construct a new \mbox{\hyperlink{class_m_p_x}{M\+PX}} object based on a mission plan, listen to mission plan changes and \mbox{\hyperlink{class_i_s_r_m}{I\+S\+RM}} detections. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_m_p_x_a7f5c5f80407fd67f426122289d7013f9}\label{class_m_p_x_a7f5c5f80407fd67f426122289d7013f9}} 
\mbox{\hyperlink{class_m_p_x_a7f5c5f80407fd67f426122289d7013f9}{M\+PX}} ()
\begin{DoxyCompactList}\small\item\em Construct a new \mbox{\hyperlink{class_m_p_x}{M\+PX}} object and listen to mission plan changes and \mbox{\hyperlink{class_i_s_r_m}{I\+S\+RM}} detections. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_m_p_x_a90751c61ced16741de96be0cf064eaa9}\label{class_m_p_x_a90751c61ced16741de96be0cf064eaa9}} 
\mbox{\hyperlink{class_m_p_x_a90751c61ced16741de96be0cf064eaa9}{$\sim$\+M\+PX}} ()
\begin{DoxyCompactList}\small\item\em Destroy the \mbox{\hyperlink{class_m_p_x}{M\+PX}} object and clear all storage for mission plans and detections. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_m_p_x_a24627db0a36318469a9ea4a10300de21}{run}} ()
\begin{DoxyCompactList}\small\item\em create two threads\+: one to check plan status and calculate P\+NT location and the other to print useful debug information to the console \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_m_p_x_a5270d8d6031bae6518147809c1702edc}{update\+Mission\+Plan}} (Mission\+Plan $\ast$plan)
\begin{DoxyCompactList}\small\item\em updatet the plan manager with new plan and set it as current plan \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_m_p_x_ac6a17c19cfb935b7c5703e4769c68dde}{set\+Changed}} (const bool \&c)
\begin{DoxyCompactList}\small\item\em indicate a change of plan to the system \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_m_p_x_a8b04ca21acd856b4a4182c60e482b454}{set\+Speed}} (double speed)
\begin{DoxyCompactList}\small\item\em setter method for speed \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_m_p_x_ae91725b5c3dda8003e801246d0583759}{set\+Location}} (double lat, double lon, double alt)
\begin{DoxyCompactList}\small\item\em setter method for location \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_m_p_x_a7f1a5f37928536cfee7566e8f80613ae}{print\+Information}} ()
\begin{DoxyCompactList}\small\item\em print useful information about U\+AV location, phase, distance to next waypoint, elapsed time bearing, plan id, speed, and location of next waypoint \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_m_p_x_a545de39123d83489b63958d1e8c4a8c7}{check\+Plan\+Status}} (\mbox{\hyperlink{class_store}{Store}}$<$ Mission\+Plan $\ast$ $>$ \&plan\+Manager)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
– Class responsible for P\+NT updates, asset location calculation, current mission status, detection list collection from sensors manager (\mbox{\hyperlink{class_i_s_r_m}{I\+S\+RM}}), generation of \mbox{\hyperlink{class_t_o_i}{T\+OI}} list 

\begin{DoxyAuthor}{Author}
– Original Author -\/ Mases Krikorian 

– Last Edited By -\/ Frederick Santiago 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
– 9/15/2020
\end{DoxyDate}
– This system starts execution when a mission plan is sent(from M\+P\+U)/loaded. Every 1 second, a new location is calculate based on the next waypoint and speed, and the location is sent to all other systems. Additionally, it checks for current status of the mission and the phase to determine what data to request from \mbox{\hyperlink{class_i_s_r_m}{I\+S\+RM}}. Once an action waypoint is reached, a request gets sent to \mbox{\hyperlink{class_i_s_r_m}{I\+S\+RM}} for detections. The results are then retrieved back from \mbox{\hyperlink{class_i_s_r_m}{I\+S\+RM}}. This list will get filtered and the output will be a \mbox{\hyperlink{class_t_o_i}{T\+OI}} list.

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000003}{Todo}}]add favorable distance to \mbox{\hyperlink{class_t_o_i}{T\+OI}} list detection filtering \end{DoxyRefDesc}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_m_p_x_a01b7eba6997c3dc44f49795563e5baf6}\label{class_m_p_x_a01b7eba6997c3dc44f49795563e5baf6}} 
\index{MPX@{MPX}!MPX@{MPX}}
\index{MPX@{MPX}!MPX@{MPX}}
\doxysubsubsection{\texorpdfstring{MPX()}{MPX()}}
{\footnotesize\ttfamily M\+P\+X\+::\+M\+PX (\begin{DoxyParamCaption}\item[{Mission\+Plan $\ast$}]{plan }\end{DoxyParamCaption})}



Construct a new \mbox{\hyperlink{class_m_p_x}{M\+PX}} object based on a mission plan, listen to mission plan changes and \mbox{\hyperlink{class_i_s_r_m}{I\+S\+RM}} detections. 


\begin{DoxyParams}{Parameters}
{\em plan} & -\/ parsed from a mission plan J\+S\+ON. Refer to \mbox{\hyperlink{class_utils_a07a2f39fff999d0db4a3756710f7117d}{Utils\+::parse\+Plan}} and M\+P\+U/mp.\+json \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_m_p_x_a545de39123d83489b63958d1e8c4a8c7}\label{class_m_p_x_a545de39123d83489b63958d1e8c4a8c7}} 
\index{MPX@{MPX}!checkPlanStatus@{checkPlanStatus}}
\index{checkPlanStatus@{checkPlanStatus}!MPX@{MPX}}
\doxysubsubsection{\texorpdfstring{checkPlanStatus()}{checkPlanStatus()}}
{\footnotesize\ttfamily void M\+P\+X\+::check\+Plan\+Status (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_store}{Store}}$<$ Mission\+Plan $\ast$ $>$ \&}]{plan\+Manager }\end{DoxyParamCaption})}

@brieft Every 1 second, a new location is calculated based on the next waypoint and speed, and the location is sent to all other systems as P\+NT. Additionally, it checks for current status of the mission and the phase to determine what data to request from \mbox{\hyperlink{class_i_s_r_m}{I\+S\+RM}}. If at last waypoint, mission is considered complete


\begin{DoxyParams}{Parameters}
{\em plan\+Manager} & -\/ storage of all mission plans sent from \mbox{\hyperlink{class_m_p_u}{M\+PU}}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
V\+O\+ID 
\end{DoxyReturn}
\mbox{\Hypertarget{class_m_p_x_a7f1a5f37928536cfee7566e8f80613ae}\label{class_m_p_x_a7f1a5f37928536cfee7566e8f80613ae}} 
\index{MPX@{MPX}!printInformation@{printInformation}}
\index{printInformation@{printInformation}!MPX@{MPX}}
\doxysubsubsection{\texorpdfstring{printInformation()}{printInformation()}}
{\footnotesize\ttfamily void M\+P\+X\+::print\+Information (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



print useful information about U\+AV location, phase, distance to next waypoint, elapsed time bearing, plan id, speed, and location of next waypoint 


\begin{DoxyParams}{Parameters}
{\em V\+O\+ID} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
V\+O\+ID 
\end{DoxyReturn}
\mbox{\Hypertarget{class_m_p_x_a24627db0a36318469a9ea4a10300de21}\label{class_m_p_x_a24627db0a36318469a9ea4a10300de21}} 
\index{MPX@{MPX}!run@{run}}
\index{run@{run}!MPX@{MPX}}
\doxysubsubsection{\texorpdfstring{run()}{run()}}
{\footnotesize\ttfamily void M\+P\+X\+::run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



create two threads\+: one to check plan status and calculate P\+NT location and the other to print useful debug information to the console 


\begin{DoxyParams}{Parameters}
{\em V\+O\+ID} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
V\+O\+ID 
\end{DoxyReturn}
\mbox{\Hypertarget{class_m_p_x_ac6a17c19cfb935b7c5703e4769c68dde}\label{class_m_p_x_ac6a17c19cfb935b7c5703e4769c68dde}} 
\index{MPX@{MPX}!setChanged@{setChanged}}
\index{setChanged@{setChanged}!MPX@{MPX}}
\doxysubsubsection{\texorpdfstring{setChanged()}{setChanged()}}
{\footnotesize\ttfamily void M\+P\+X\+::set\+Changed (\begin{DoxyParamCaption}\item[{const bool \&}]{c }\end{DoxyParamCaption})}



indicate a change of plan to the system 


\begin{DoxyParams}{Parameters}
{\em c} & -\/ if true, plan changed\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
V\+O\+ID 
\end{DoxyReturn}
\mbox{\Hypertarget{class_m_p_x_ae91725b5c3dda8003e801246d0583759}\label{class_m_p_x_ae91725b5c3dda8003e801246d0583759}} 
\index{MPX@{MPX}!setLocation@{setLocation}}
\index{setLocation@{setLocation}!MPX@{MPX}}
\doxysubsubsection{\texorpdfstring{setLocation()}{setLocation()}}
{\footnotesize\ttfamily void M\+P\+X\+::set\+Location (\begin{DoxyParamCaption}\item[{double}]{lat,  }\item[{double}]{lon,  }\item[{double}]{alt }\end{DoxyParamCaption})}



setter method for location 


\begin{DoxyParams}{Parameters}
{\em lat} & -\/ contains the new latitude \\
\hline
{\em lon} & -\/ contains the new longitude \\
\hline
{\em alt} & -\/ contains the new altitude\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
V\+O\+ID 
\end{DoxyReturn}
\mbox{\Hypertarget{class_m_p_x_a8b04ca21acd856b4a4182c60e482b454}\label{class_m_p_x_a8b04ca21acd856b4a4182c60e482b454}} 
\index{MPX@{MPX}!setSpeed@{setSpeed}}
\index{setSpeed@{setSpeed}!MPX@{MPX}}
\doxysubsubsection{\texorpdfstring{setSpeed()}{setSpeed()}}
{\footnotesize\ttfamily void M\+P\+X\+::set\+Speed (\begin{DoxyParamCaption}\item[{double}]{speed }\end{DoxyParamCaption})}



setter method for speed 


\begin{DoxyParams}{Parameters}
{\em speed} & -\/ contains the new speed\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
V\+O\+ID 
\end{DoxyReturn}
\mbox{\Hypertarget{class_m_p_x_a5270d8d6031bae6518147809c1702edc}\label{class_m_p_x_a5270d8d6031bae6518147809c1702edc}} 
\index{MPX@{MPX}!updateMissionPlan@{updateMissionPlan}}
\index{updateMissionPlan@{updateMissionPlan}!MPX@{MPX}}
\doxysubsubsection{\texorpdfstring{updateMissionPlan()}{updateMissionPlan()}}
{\footnotesize\ttfamily void M\+P\+X\+::update\+Mission\+Plan (\begin{DoxyParamCaption}\item[{Mission\+Plan $\ast$}]{plan }\end{DoxyParamCaption})}



updatet the plan manager with new plan and set it as current plan 


\begin{DoxyParams}{Parameters}
{\em plan} & -\/ contains information about vehicle plan (waypoints), and sensor plan (actions at waypoints)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
V\+O\+ID 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
M\+P\+X/M\+P\+X.\+h\item 
M\+P\+X/M\+P\+X.\+cpp\end{DoxyCompactItemize}
